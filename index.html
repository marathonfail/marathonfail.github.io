<!DOCTYPE html>
<html lang="en">
<head>
    <head>
        <title>ethwordchain.com - Word Building game in Ethereum Blockchain!</title>
        <meta name="description" content="Word Building game in Ethereum">
        <meta name="keywords" content="Ethereum,Word Building,Words,Learn new words,Earn Ethers">
        <meta name="author" content="etherwords.com">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="UTF-8">

        <style>
          body {
            margin: 0px;
            padding: 0px;
            width: 100%;
            height: 100%;
          }
        </style>
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="/static/css/material.min.css">
        <link rel="stylesheet" href="/static/css/app.css"/>
        <link rel="stylesheet" type="text/css" href="/bower_components/dialog-polyfill/dialog-polyfill.css" />
        <link rel="icon" href="/favicon.png" />
        <script type="text/javascript" src="/static/js/jquery-1.12.3.min.js"></script>
    </head>
<body>
    <!-- Always shows a header, even in smaller screens. -->
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <header class="mdl-layout__header">
        <div class="mdl-layout__header-row">
          <!-- Title -->
          <img src="static/img/etherwords.png" width="50" height="40"/>
          <span class="mdl-layout-title">ethwordchain.com</span>
          <!-- Add spacer, to align navigation to the right -->
          <div class="mdl-layout-spacer"></div>
          <!-- Navigation. We hide it in small screens. -->
          <nav class="mdl-navigation mdl-layout--large-screen-only">
            <a class="mdl-navigation__link rules_dialog_open" href="#">Game rules</a>
            <a class="mdl-navigation__link" href="#recently_added">Browse</a>
          </nav>
        </div>
      </header>
      <div class="mdl-layout__drawer">
        <span class="mdl-layout-title">ethwordchain.com</span>
        <nav class="mdl-navigation">
          <a class="mdl-navigation__link rules_dialog_open" href="#">Game rules</a>
          <a class="mdl-navigation__link" href="#recently_added">Browse</a>
        </nav>
      </div>
      <main class="mdl-layout__content" style="width: 100%; height: 100%;">

        <div class="page-content " style="width: 100%; height: 100%; text-align: center">
                <h1>Play word building game and earn ETH!</h1>
                <div class="mdl-card mdl-shadow--2dp through mdl-shadow--16dp" style="height: 180px; margin: 50px; display: inline-block">
                  <div class="mdl-card__title mdl-card--border">
                    <h2 class="mdl-card__title-text">Last word</h2>
                  </div>
                  <div class="mdl-card__supporting-text " style="text-align: center; height: 55px; font-size: 20px; overflow: ellipsis">
                      <div id="last_word" style="margin: auto; display: inline-block;"></div>
                  </div>
                  <div class="mdl-card__actions" style="text-align: center; height: 30px;">
                    <!-- Colored raised button -->
                        <a id="browse_all" href="#recently_added" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" style="margin: auto">
                          BROWSE ALL
                        </a>
                  </div>
                </div>

                <div class="mdl-card mdl-shadow--2dp through mdl-shadow--16dp" style="margin: 50px; height: 180px; display: inline-block">
                  <div class="mdl-card__title mdl-card--border">
                    <h2 class="mdl-card__title-text mdl-card--border">Your turn</h2>
                  </div>
                  <div class="mdl-card__supporting-text" style="height: 55px;">
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" id="sample3">
                        <label class="mdl-textfield__label" for="sample3" id="label_for_input">Enter a word starting with 's'</label>
                    </div>
                  </div>
                  <div class="mdl-card__actions" style="text-align: center; height: 30px;">
                    <button id="add_to_chain" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" style="margin: auto">
                          ADD TO WORD CHAIN
                    </button>
                  </div>
                </div>

                <h3>Recently added</h3>

                <div id="recently_added" style="display: inline-block; margin: 50px">

                </div>
        </div>

      </main>
    </div>

    <dialog id="success_err_dialog" class="mdl-dialog">
                        <div class="mdl-dialog__content" id="success_err_msg">

                        </div>
                        <div class="mdl-dialog__actions">
                          <button type="button" class="mdl-button close" id="dialog_close">OK</button>
                        </div>
                      </dialog>

    <dialog id="game_rules" class="mdl-dialog" style="width: 50%;">
                        <h4 class="mdl-dialog__title">Rules</h4>
                        <div class="mdl-dialog__content">
                            <ul>
                              <li> This is a classic word building game. Your word should start with the ending character of the previous word in the chain.</li>
                              <li> Use ONLY lower case english alphabets, NO symbols or punctuations or space. </li>
                              <li> The price is <b>0.01 ETH</b> for adding a word </li>
                              <li> While there is no check on the kind of word you add, please add meaningful words. We will provide an option for others to tip for meaningful words. </li>
                              <li> 1% of the tip will be withheld by the contract. </li>
                              <li> Help create the longest word building game ever! </li>
                              <li> Please install MetaMask chrome extension as this app depends on MetaMask for sending transactions.</li>
                            </ul>
                        </div>
                        <div class="mdl-dialog__actions">
                          <button type="button" class="mdl-button close" id="rules_dialog_close">OK</button>
                        </div>
                      </dialog>

    <!--script src="{{ url_for('bower.static', filename='web3/dist/web3.min.js')}}"></script-->
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script src="/static/js/bundle.js"></script>
    <script src="/static/js/react-bundle.min.js"></script>
    <!--script type="text/javascript" src="{{url_for('static', filename='js/app.js')}}"></script-->
    <script src="/static/js/browser.min.js"></script>
    <script type="text/babel" src="/static/js/components.js"></script>
    <script src="/bower_components/dialog-polyfill/dialog-polyfill.js"></script>
    <script>
        $(document).ready(function() {
            var dialog = document.querySelector("#success_err_dialog");
            var rulesDialog = document.querySelector("#game_rules");
            if (! dialog.showModal) {
              dialogPolyfill.registerDialog(dialog);
            }
            if (!rulesDialog.showModal) {
                dialogPolyfill.registerDialog(rulesDialog);
            }
            $("#rules_dialog_close").click(function() {
                rulesDialog.close();
            });
            $(".rules_dialog_open").click(function(){
                rulesDialog.showModal();
            });
            $("#dialog_close").click(function() {
                dialog.close();
            });
            $("#add_to_chain").click(function(){
                var val = $("#sample3").val();
                console.log(val);
                if (val == '') {
                    $("#success_err_msg").html("<p>Please enter a word!</p>");
                    dialog.showModal();
                } else {
                    theApp.addWord(val, "", function(err, txId) {
                        if (err) {
                            $("#success_err_msg").html("<p>There was an error processing your request</p>");
                            dialog.showModal();
                        } else {
                            $("#success_err_msg").html('<a href="https://etherscan.io/tx/'+ txId + ' target="_blank"' + '>Submitted Transaction</a>');
                            dialog.showModal();
                        }
                    });
                }
            });
        });
    </script>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-96646116-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>
